<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Asistente Virtual</title>
<style>
/* === ESTILO DEL CHAT (NO TOCAR) === */
body { font-family: Arial; margin: 0; padding: 0; }
#chatIcon {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #007bff;
    color: white;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    text-align: center;
    line-height: 60px;
    font-size: 30px;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
#chatBox {
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 400px;
    max-height: 500px;
    background: white;
    border: 1px solid #ccc;
    border-radius: 10px;
    display: none;
    flex-direction: column;
    overflow: hidden;
    box-shadow: 0 2px 12px rgba(0,0,0,0.3);
}
#chatContent { flex: 1; padding: 10px; overflow-y: auto; }
.message { margin: 5px 0; }
.bot { color: blue; }
.user { color: green; }
#chatInput { display: flex; border-top: 1px solid #ccc; }
#chatInput input { flex: 1; border: none; padding: 10px; outline: none; }
#chatInput button { padding: 10px; border: none; background: #007bff; color: white; cursor: pointer; }

/* === CONTENIDO ADICIONAL DE LA P√ÅGINA === */
#contenido {
    max-width: 900px;
    margin: 50px auto;
    padding: 20px;
}

#contenido h1 {
    color: #007bff;
    text-align: center;
}

#contenido h2 {
    color: #333;
    margin-top: 30px;
}

#contenido p {
    font-size: 16px;
    margin-bottom: 15px;
}

.promo {
    margin-bottom: 20px;
}

.promo img {
    max-width: 100%;
    border-radius: 10px;
}

.section {
    background: #f4f4f4;
    padding: 20px;
    border-radius: 10px;
    margin-bottom: 30px;
}
</style>
</head>
<body>

<!-- === CONTENIDO ADICIONAL DE LA P√ÅGINA === -->
<div id="contenido">
    <h1>Bienvenido a Nuestro Sitio</h1>
    <p>Ac√° pod√©s mostrar informaci√≥n importante, promociones, noticias o cualquier texto que quieras que vean tus usuarios mientras interact√∫an con el chat.</p>

    <div class="section">
        <h2>Promociones Destacadas</h2>
        <div class="promo">
            <img src="https://via.placeholder.com/400x150?text=Promo+1" alt="Promoci√≥n 1">
            <p>Compra hoy y obten√© un descuento especial.</p>
        </div>
        <div class="promo">
            <img src="https://via.placeholder.com/400x150?text=Promo+2" alt="Promoci√≥n 2">
            <p>Particip√° en nuestro sorteo mensual.</p>
        </div>
    </div>

    <div class="section">
        <h2>Nuestras Novedades</h2>
        <p>Mir√° todas las noticias y novedades de nuestro servicio.</p>
        <ul>
            <li>Lanzamiento de nuevos productos.</li>
            <li>Actualizaciones en nuestro sistema.</li>
            <li>Promociones exclusivas para usuarios registrados.</li>
        </ul>
    </div>
</div>

<!-- === CHAT FLOTANTE (NO TOCAR) === -->
<div id="chatIcon">üí¨</div>

<div id="chatBox">
    <div id="chatContent"></div>
    <div id="chatInput">
        <input type="text" id="userInput" placeholder="Escrib√≠ tu respuesta aqu√≠..."/>
        <button id="sendBtn">Enviar</button>
    </div>
</div>

<script>
// === C√ìDIGO DEL CHAT (NO TOCAR) ===
const chatIcon = document.getElementById("chatIcon");
const chatBox = document.getElementById("chatBox");
chatIcon.onclick = () => {
    chatBox.style.display = chatBox.style.display === "flex" ? "none" : "flex";
    chatBox.style.flexDirection = "column";
    input.focus();
};

function mostrarMensaje(texto, tipo="bot") {
    const div = document.createElement("div");
    div.className = `message ${tipo}`;
    div.innerHTML = texto.replace(/\n/g, "<br>");
    chatContent.appendChild(div);
    chatContent.scrollTop = chatContent.scrollHeight;
}

const chatTree = {
    "Inicio": {
        "mensaje": `¬°Hola! Bienvenido al soporte. ¬øC√≥mo podemos ayudarte hoy?
1. Problemas con el sistema
2. Consultas sobre servicios
3. Promociones
4. Hablar con un agente humano`,
        "opciones": {
            "1": "Problemas_sistema",
            "problemas": "Problemas_sistema",
            "sistema": "Problemas_sistema",
            "2": "Consultas_servicios",
            "consultas": "Consultas_servicios",
            "3": "Promociones",
            "promociones": "Promociones",
            "4": "Hablar_agente",
            "agente": "Hablar_agente",
            "humano": "Hablar_agente"
        }
    },
    // resto de nodos...
    "FIN": { "mensaje": "¬°Gracias por tu tiempo! Fin de la interacci√≥n.", "opciones": {} }
};

let nodoActual = "Inicio";
const chatContent = document.getElementById("chatContent");
const input = document.getElementById("userInput");
const btnEnviar = document.getElementById("sendBtn");

function enviarMensaje() {
    const texto = input.value.trim().toLowerCase();
    if (!texto) return;
    mostrarMensaje(input.value, "user");
    input.value = "";

    const nodo = chatTree[nodoActual];
    if (nodo.opciones[texto]) {
        nodoActual = nodo.opciones[texto];
        mostrarMensaje(chatTree[nodoActual].mensaje);
    } else {
        mostrarMensaje("No entend√≠ tu respuesta. Escrib√≠ el n√∫mero o palabra clave de la opci√≥n.", "bot");
    }
}

btnEnviar.onclick = enviarMensaje;
mostrarMensaje(chatTree[nodoActual].mensaje);
</script>

</body>
</html>

