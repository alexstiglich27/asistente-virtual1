<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Asistente Virtual</title>
<style>
/* Estilos generales */
body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background: #f4f4f4;
}

/* Cabecera */
header {
    background: #007bff;
    color: white;
    padding: 20px;
    text-align: center;
}

/* Secciones principales */
section {
    background: white;
    margin: 20px auto;
    padding: 20px;
    max-width: 900px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

/* Chat flotante */
#chatIcon {
    position: fixed;
    bottom: 20px;
    right: 20px;
    background: #007bff;
    color: white;
    border-radius: 50%;
    width: 60px;
    height: 60px;
    text-align: center;
    line-height: 60px;
    font-size: 30px;
    cursor: pointer;
    box-shadow: 0 2px 6px rgba(0,0,0,0.3);
}
#chatBox {
    position: fixed;
    bottom: 90px;
    right: 20px;
    width: 400px;
    max-height: 500px;
    background: white;
    border: 1px solid #ccc;
    border-radius: 10px;
    display: none;
    flex-direction: column;
    overflow: hidden;
    box-shadow: 0 2px 12px rgba(0,0,0,0.3);
}
#chatContent { flex: 1; padding: 10px; overflow-y: auto; }
.message { margin: 5px 0; }
.bot { color: blue; }
.user { color: green; }
#chatInput { display: flex; border-top: 1px solid #ccc; }
#chatInput input { flex: 1; border: none; padding: 10px; outline: none; }
#chatInput button { padding: 10px; border: none; background: #007bff; color: white; cursor: pointer; }
</style>
</head>
<body>

<header>
    <h1>Bienvenido a Soporte Online</h1>
    <p>Tu ayuda inmediata con nuestros servicios y promociones.</p>
</header>

<section>
    <h2>Servicios Disponibles</h2>
    <p>Conoce todos los servicios que pod√©s abonar desde nuestra plataforma:</p>
    <ul>
        <li>Pago de facturas</li>
        <li>Recarga de servicios</li>
        <li>Consulta de promociones</li>
    </ul>
    <img src="https://via.placeholder.com/800x200" alt="Servicios" style="width:100%; border-radius: 10px; margin-top:10px;">
</section>

<section>
    <h2>Promociones</h2>
    <p>Mir√° nuestras ofertas y sorteos vigentes:</p>
    <ul>
        <li>Promoci√≥n 1: 10% de descuento en pagos en l√≠nea</li>
        <li>Promoci√≥n 2: Sorteos mensuales de premios</li>
    </ul>
</section>

<!-- Chat flotante -->
<div id="chatIcon">üí¨</div>

<div id="chatBox">
    <div id="chatContent"></div>
    <div id="chatInput">
        <input type="text" id="userInput" placeholder="Escrib√≠ tu respuesta aqu√≠..."/>
        <button id="sendBtn">Enviar</button>
    </div>
</div>

<script>
// Mostrar/ocultar chat
const chatIcon = document.getElementById("chatIcon");
const chatBox = document.getElementById("chatBox");
const input = document.getElementById("userInput");
chatIcon.onclick = () => {
    chatBox.style.display = chatBox.style.display === "flex" ? "none" : "flex";
    chatBox.style.flexDirection = "column";
    input.focus();
};

// Funci√≥n mostrar mensaje
const chatContent = document.getElementById("chatContent");
function mostrarMensaje(texto, tipo="bot") {
    const div = document.createElement("div");
    div.className = `message ${tipo}`;
    div.innerHTML = texto.replace(/\n/g,"<br>");
    chatContent.appendChild(div);
    chatContent.scrollTop = chatContent.scrollHeight;
}

// √Årbol conversacional resumido (pod√©s pegar el tuyo completo)
const chatTree = {
    "Inicio": {
        "mensaje": `¬°Hola! Bienvenido al soporte. ¬øC√≥mo podemos ayudarte hoy?\n1. Problemas con el sistema\n2. Consultas sobre servicios\n3. Promociones\n4. Con un operador`,
        "opciones": {"1":"Problemas_sistema","problemas":"Problemas_sistema","sistema":"Problemas_sistema","2":"Consultas_servicios","consultas":"Consultas_servicios","3":"Promociones","promociones":"Promociones","4":"Hablar_agente","agente":"Hablar_agente"}
    },
    "Problemas_sistema": {"mensaje":"Vamos a intentar solucionar el problema con el sistema.\n1. S√≠\n2. No","opciones":{"1":"Inicio","2":"Hablar_agente"}},
    "Consultas_servicios": {"mensaje":"¬øQu√© consulta deseas realizar?\n1. Realizar b√∫squeda\n2. Procesar pago","opciones":{"1":"Inicio","2":"Inicio"}},
    "Promociones": {"mensaje":"Selecciona el tipo de promoci√≥n\n1. Vigentes\n2. C√≥mo participar","opciones":{"1":"Inicio","2":"Inicio"}},
    "Hablar_agente": {"mensaje":"Te voy a derivar a un operador. Por favor espera.\n1. Volver al inicio","opciones":{"1":"Inicio"}}
};

let nodoActual = "Inicio";

// Enviar mensaje
const btnEnviar = document.getElementById("sendBtn");
btnEnviar.onclick = () => {
    const texto = input.value.trim().toLowerCase();
    if(!texto) return;
    mostrarMensaje(input.value,"user");
    input.value = "";
    const nodo = chatTree[nodoActual];
    if(nodo.opciones[texto]) nodoActual = nodo.opciones[texto];
    mostrarMensaje(chatTree[nodoActual].mensaje,"bot");
};
mostrarMensaje(chatTree[nodoActual].mensaje,"bot");
</script>

</body>
</html>

